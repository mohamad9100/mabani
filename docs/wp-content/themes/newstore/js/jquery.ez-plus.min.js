// jscs:disable
/* jshint -W071, -W074 */
// jscs:enable
/* globals jQuery */
/*
 * jQuery ezPlus 1.2.4
 * Demo's and documentation:
 * http://igorlino.github.io/elevatezoom-plus/
 *
 * licensed under MIT license.
 * http://en.wikipedia.org/wiki/MIT_License
 *
 */
 
"function"!==typeof Object.create&&(Object.create=function(e){function g(){}g.prototype=e;return new g});
(function(e,g,m){var l={init:function(c,a){function b(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===b?c:c&3|8).toString(16)})}var d=this;d.elem=a;d.$elem=e(a);d.options=e.extend({},e.fn.ezPlus.options,d.responsiveConfig(c||{}));d.imageSrc=d.$elem.attr("data-"+d.options.attrImageZoomSrc)?d.$elem.attr("data-"+d.options.attrImageZoomSrc):d.$elem.attr("src");if(d.options.enabled){d.options.tint&&
(d.options.lensColour="transparent",d.options.lensOpacity="1");"inner"===d.options.zoomType&&(d.options.showLens=!1);"lens"===d.options.zoomType&&(d.options.zoomWindowWidth=0);-1===d.options.zoomId&&(d.options.zoomId=b());d.$elem.parent().removeAttr("title").removeAttr("alt");d.zoomImage=d.imageSrc;d.refresh(1);var f=d.options.galleryEvent+".ezpspace";f+=d.options.touchEnabled?" touchend.ezpspace":"";d.$galleries=e(d.options.gallery?"#"+d.options.gallery:d.options.gallerySelector);d.$galleries.on(f,
d.options.galleryItem,function(a){d.options.galleryActiveClass&&(e(d.options.galleryItem,d.$galleries).removeClass(d.options.galleryActiveClass),e(this).addClass(d.options.galleryActiveClass));"A"===this.tagName&&a.preventDefault();e(this).data(d.options.attrImageZoomSrc)?d.zoomImagePre=e(this).data(d.options.attrImageZoomSrc):d.zoomImagePre=e(this).data("image");d.swaptheimage(e(this).data("image"),d.zoomImagePre);if("A"===this.tagName)return!1})}},refresh:function(c){var a=this;setTimeout(function(){a.fetch(a.imageSrc,
a.$elem,a.options.minZoomLevel)},c||a.options.refresh)},fetch:function(c,a,b){var d=this,f=new Image;f.onload=function(){f.width/a.width()<=b?d.largeWidth=a.width()*b:d.largeWidth=f.width;f.height/a.height()<=b?d.largeHeight=a.height()*b:d.largeHeight=f.height;d.startZoom();d.currentImage=d.imageSrc;d.options.onZoomedImageLoaded(d.$elem)};d.setImageSource(f,c)},setImageSource:function(c,a){c.src=a},startZoom:function(){function c(){var a=b.$elem.css("border-left-width");b.options.scrollZoom&&(b.zoomLens=
e('<div class="zoomLens"/>'));return{display:"none",position:"absolute",height:b.nzHeight,width:b.nzWidth,marginTop:a,marginLeft:a,border:""+b.options.borderSize+"px solid "+b.options.borderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",cursor:b.options.cursor,overflow:"hidden",zIndex:b.options.zIndex}}function a(a){if(b.lastX!==a.clientX||b.lastY!==a.clientY)b.setPosition(a),b.currentLoc=a;b.lastX=a.clientX;b.lastY=a.clientY}var b=this;b.nzWidth=b.$elem.width();b.nzHeight=b.$elem.height();
b.isWindowActive=!1;b.isLensActive=!1;b.isTintActive=!1;b.overWindow=!1;if(b.options.imageCrossfade){var d=e('<div class="zoomWrapper"/>').css({height:b.nzHeight,width:b.nzWidth});b.$elem.parent().hasClass("zoomWrapper")&&b.$elem.unwrap();b.zoomWrap=b.$elem.wrap(d);b.$elem.css({position:"absolute"})}b.zoomLock=1;b.scrollingLock=!1;b.changeBgSize=!1;b.currentZoomLevel=b.options.zoomLevel;b.updateOffset(b);b.widthRatio=b.largeWidth/b.currentZoomLevel/b.nzWidth;b.heightRatio=
b.largeHeight/b.currentZoomLevel/b.nzHeight;"window"===b.options.zoomType&&(b.zoomWindowStyle={display:"none",position:"absolute",height:b.options.zoomWindowHeight,width:b.options.zoomWindowWidth,border:""+b.options.borderSize+"px solid "+b.options.borderColour,backgroundSize:""+b.largeWidth/b.currentZoomLevel+"px "+b.largeHeight/b.currentZoomLevel+"px",backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:""+b.options.zoomWindowBgColour,overflow:"hidden",zIndex:100});"inner"===
b.options.zoomType&&(b.zoomWindowStyle=c());"window"===b.options.zoomType&&(b.lensHeight=b.nzHeight<b.options.zoomWindowHeight/b.heightRatio?b.nzHeight:b.options.zoomWindowHeight/b.heightRatio,b.lensWidth=b.largeWidth<b.options.zoomWindowWidth?b.nzWidth:b.options.zoomWindowWidth/b.widthRatio,b.lensStyle={display:"none",position:"absolute",height:b.lensHeight,width:b.lensWidth,border:""+b.options.lensBorderSize+"px solid "+b.options.lensBorderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",
backgroundColor:b.options.lensColour,opacity:b.options.lensOpacity,cursor:b.options.cursor,zIndex:999,overflow:"hidden"},console.log(b.lensStyle));b.tintStyle={display:"block",position:"absolute",height:b.nzHeight,width:b.nzWidth,backgroundColor:b.options.tintColour,opacity:0};b.lensRound={};"lens"===b.options.zoomType&&(b.lensStyle={display:"none",position:"absolute","float":"left",height:b.options.lensSize,width:b.options.lensSize,border:""+b.options.borderSize+"px solid "+b.options.borderColour,
backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:b.options.lensColour,cursor:b.options.cursor});"round"===b.options.lensShape&&(b.lensRound={borderRadius:b.options.lensSize/2+b.options.borderSize});b.zoomContainer=e('<div class="'+b.options.container+'" uuid="'+b.options.zoomId+'"/>');b.zoomContainer.css({position:"absolute",top:b.nzOffset.top,left:b.nzOffset.left,height:b.nzHeight,width:b.nzWidth,zIndex:b.options.zIndex});b.$elem.attr("id")&&b.zoomContainer.attr("id",b.$elem.attr("id")+
"-"+b.options.container);e("."+b.options.container).remove();e(b.options.zoomContainerAppendTo).append(b.zoomContainer);b.options.containLensZoom&&"lens"===b.options.zoomType&&b.zoomContainer.css("overflow","hidden");"inner"!==b.options.zoomType&&(b.zoomLens=e('<div class="zoomLens"/>').css(e.extend({},b.lensStyle,b.lensRound)).appendTo(b.zoomContainer).click(function(){b.$elem.trigger("click")}),b.options.tint&&(b.tintContainer=e('<div class="tintContainer"/>'),b.zoomTint=e('<div class="zoomTint"/>').css(b.tintStyle),
b.zoomLens.wrap(b.tintContainer),b.zoomTintcss=b.zoomLens.after(b.zoomTint),b.zoomTintImage=e('<img src="'+b.$elem.attr("src")+'">').css({position:"absolute",top:0,left:0,height:b.nzHeight,width:b.nzWidth,maxWidth:"none"}).appendTo(b.zoomLens).click(function(){b.$elem.trigger("click")})));d=isNaN(b.options.zoomWindowPosition)?"body":b.zoomContainer;b.zoomWindow=e('<div class="zoomWindow"/>').css(e.extend({zIndex:999,top:b.windowOffsetTop,left:b.windowOffsetLeft},b.zoomWindowStyle)).appendTo(d).click(function(){b.$elem.trigger("click")});
b.zoomWindowContainer=e('<div class="zoomWindowContainer" />').css({width:b.options.zoomWindowWidth});b.zoomWindow.wrap(b.zoomWindowContainer);"lens"===b.options.zoomType&&(b.zoomContainer.css("display","none"),b.zoomLens.css({backgroundImage:'url("'+b.imageSrc+'")'}));"window"===b.options.zoomType&&b.zoomWindow.css({backgroundImage:'url("'+b.imageSrc+'")'});"inner"===b.options.zoomType&&b.zoomWindow.css({backgroundImage:'url("'+b.imageSrc+'")'});b.options.touchEnabled&&(b.$elem.on("touchmove.ezpspace",
function(a){a.preventDefault();b.setPosition(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0])}),b.zoomContainer.on("touchmove.ezpspace",function(a){b.setElements("show");a.preventDefault();b.setPosition(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0])}),b.zoomContainer.add(b.$elem).on("touchend.ezpspace",function(a){b.showHideWindow("hide");b.options.showLens&&b.showHideLens("hide");b.options.tint&&"inner"!==b.options.zoomType&&b.showHideTint("hide")}),b.options.showLens&&
(b.zoomLens.on("touchmove.ezpspace",function(a){a.preventDefault();b.setPosition(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0])}),b.zoomLens.on("touchend.ezpspace",function(a){b.showHideWindow("hide");b.options.showLens&&b.showHideLens("hide");b.options.tint&&"inner"!==b.options.zoomType&&b.showHideTint("hide")})));b.zoomContainer.on("click.ezpspace touchstart.ezpspace",b.options.onImageClick);b.zoomContainer.add(b.$elem).on("mousemove.ezpspace",function(c){!1===b.overWindow&&b.setElements("show");
a(c)});d=null;"inner"!==b.options.zoomType&&(d=b.zoomLens);b.options.tint&&"inner"!==b.options.zoomType&&(d=b.zoomTint);"inner"===b.options.zoomType&&(d=b.zoomWindow);if(d)d.on("mousemove.ezpspace",a);b.zoomContainer.add(b.$elem).hover(function(){!1===b.overWindow&&b.setElements("show")},function(){b.scrollLock||(b.setElements("hide"),b.options.onDestroy(b.$elem))});"inner"!==b.options.zoomType&&b.zoomWindow.hover(function(){b.overWindow=!0;b.setElements("hide")},function(){b.overWindow=!1});b.minZoomLevel=
b.options.minZoomLevel?b.options.minZoomLevel:2*b.options.scrollZoomIncrement;if(b.options.scrollZoom)b.zoomContainer.add(b.$elem).on("wheel DOMMouseScroll MozMousePixelScroll",function(a){b.scrollLock=!0;clearTimeout(e.data(this,"timer"));e.data(this,"timer",setTimeout(function(){b.scrollLock=!1},250));var c=a.originalEvent.deltaY||-1*a.originalEvent.detail;a.stopImmediatePropagation();a.stopPropagation();a.preventDefault();if(0===c)return!1;0<c/120?(a=parseFloat(b.currentZoomLevel)-b.options.scrollZoomIncrement,
a>=parseFloat(b.minZoomLevel)&&b.changeZoomLevel(a)):(b.fullheight||b.fullwidth)&&b.options.mantainZoomAspectRatio||(a=parseFloat(b.currentZoomLevel)+b.options.scrollZoomIncrement,b.options.maxZoomLevel?a<=b.options.maxZoomLevel&&b.changeZoomLevel(a):b.changeZoomLevel(a));return!1})},destroy:function(){this.$elem.off(".ezpspace");this.$galleries.off(".ezpspace");e(this.zoomContainer).remove();this.options.loadingIcon&&this.spinner&&this.spinner.length&&(this.spinner.remove(),delete this.spinner)},
getIdentifier:function(){return this.options.zoomId},setElements:function(c){if(!this.options.zoomEnabled)return!1;"show"===c&&this.isWindowSet&&("inner"===this.options.zoomType&&this.showHideWindow("show"),"window"===this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&(this.showHideZoomContainer("show"),this.showHideLens("show")),this.options.tint&&"inner"!==this.options.zoomType&&this.showHideTint("show"));"hide"===c&&("window"===this.options.zoomType&&this.showHideWindow("hide"),
this.options.tint||this.showHideWindow("hide"),this.options.showLens&&(this.showHideZoomContainer("hide"),this.showHideLens("hide")),this.options.tint&&this.showHideTint("hide"))},setPosition:function(c){if(!this.options.zoomEnabled||void 0===c)return!1;this.nzHeight=this.$elem.height();this.nzWidth=this.$elem.width();this.updateOffset(this);this.options.tint&&"inner"!==this.options.zoomType&&this.zoomTint.css({top:0,left:0});this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&
(this.lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:this.options.zoomWindowHeight/this.heightRatio,this.lensWidth=this.largeWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!==this.options.zoomType&&(this.lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:this.options.zoomWindowHeight/this.heightRatio,
this.lensWidth=this.nzWidth<this.options.zoomWindowHeight/this.heightRatio?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens.css({width:this.lensWidth,height:this.lensHeight}),this.options.tint&&this.zoomTintImage.css({width:this.nzWidth,height:this.nzHeight})),"lens"===this.options.zoomType&&this.zoomLens.css({width:this.options.lensSize,height:this.options.lensSize}));this.zoomContainer.css({top:this.nzOffset.top,left:this.nzOffset.left,width:this.nzWidth,height:this.nzHeight});
this.mouseLeft=parseInt(c.pageX-this.pageOffsetX-this.nzOffset.left);this.mouseTop=parseInt(c.pageY-this.pageOffsetY-this.nzOffset.top);if("window"===this.options.zoomType){var a=this.zoomLens.height()/2,b=this.zoomLens.width()/2;this.Etoppos=this.mouseTop<0+a;this.Eboppos=this.mouseTop>this.nzHeight-a-2*this.options.lensBorderSize;this.Eloppos=this.mouseLeft<0+b;this.Eroppos=this.mouseLeft>this.nzWidth-b-2*this.options.lensBorderSize}"inner"===this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/
2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize);0>this.mouseLeft||0>this.mouseTop||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=Math.floor(this.mouseLeft-this.zoomLens.width()/2),this.lensTopPos=Math.floor(this.mouseTop-
this.zoomLens.height()/2)),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.tintpos=this.lensLeftPos=this.windowLeftPos=0),"window"===this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"===this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&
(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"===this.options.zoomType&&(this.windowLeftPos=-1*((c.pageX-this.pageOffsetX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2),this.windowTopPos=-1*((c.pageY-this.pageOffsetY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2),this.zoomLens.css({backgroundPosition:""+this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"===this.options.zoomType&&this.zoomLens.css({backgroundSize:""+
this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({backgroundSize:""+this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"===this.options.zoomType&&this.zoomLens.css({backgroundSize:""+this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({backgroundSize:""+this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=
!1),this.setWindowPosition(c)),this.options.tint&&"inner"!==this.options.zoomType&&this.setTintPosition(c),"window"===this.options.zoomType&&this.setWindowPosition(c),"inner"===this.options.zoomType&&this.setWindowPosition(c),this.options.showLens&&(this.fullwidth&&"lens"!==this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos,top:this.lensTopPos})))},showHideZoomContainer:function(c){"show"===c&&this.zoomContainer&&this.zoomContainer.show();"hide"===c&&this.zoomContainer&&
this.zoomContainer.hide()},showHideWindow:function(c){var a=this;"show"===c&&!a.isWindowActive&&a.zoomWindow&&(a.options.onShow(a),a.options.zoomWindowFadeIn?a.zoomWindow.stop(!0,!0,!1).fadeIn(a.options.zoomWindowFadeIn):a.zoomWindow.show(),a.isWindowActive=!0);"hide"===c&&a.isWindowActive&&(a.options.zoomWindowFadeOut?a.zoomWindow.stop(!0,!0).fadeOut(a.options.zoomWindowFadeOut,function(){a.loop&&(clearInterval(a.loop),a.loop=!1)}):a.zoomWindow.hide(),a.options.onHide(a),a.isWindowActive=!1)},showHideLens:function(c){"show"!==
c||this.isLensActive||(this.zoomLens&&(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show()),this.isLensActive=!0);"hide"===c&&this.isLensActive&&(this.zoomLens&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide()),this.isLensActive=!1)},showHideTint:function(c){"show"===c&&!this.isTintActive&&this.zoomTint&&(this.options.zoomTintFadeIn?this.zoomTint.css("opacity",this.options.tintOpacity).animate().stop(!0,
!0).fadeIn("slow"):(this.zoomTint.css("opacity",this.options.tintOpacity).animate(),this.zoomTint.show()),this.isTintActive=!0);"hide"===c&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPosition:function(c){},setWindowPosition:function(c){var a=this;if(isNaN(a.options.zoomWindowPosition))a.externalContainer=e(a.options.zoomWindowPosition),a.externalContainer.length||(a.externalContainer=
e("#"+a.options.zoomWindowPosition)),a.externalContainerWidth=a.externalContainer.width(),a.externalContainerHeight=a.externalContainer.height(),a.externalContainerOffset=a.externalContainer.offset(),a.windowOffsetTop=a.externalContainerOffset.top,a.windowOffsetLeft=a.externalContainerOffset.left;else switch(a.options.zoomWindowPosition){case 1:a.windowOffsetTop=a.options.zoomWindowOffsetY;a.windowOffsetLeft=+a.nzWidth;break;case 2:a.options.zoomWindowHeight>a.nzHeight?(a.windowOffsetTop=-1*(a.options.zoomWindowHeight/
2-a.nzHeight/2),a.windowOffsetLeft=a.nzWidth):e.noop();break;case 3:a.windowOffsetTop=a.nzHeight-a.zoomWindow.height()-2*a.options.borderSize;a.windowOffsetLeft=a.nzWidth;break;case 4:a.windowOffsetTop=a.nzHeight;a.windowOffsetLeft=a.nzWidth;break;case 5:a.windowOffsetTop=a.nzHeight;a.windowOffsetLeft=a.nzWidth-a.zoomWindow.width()-2*a.options.borderSize;break;case 6:a.options.zoomWindowHeight>a.nzHeight?(a.windowOffsetTop=a.nzHeight,a.windowOffsetLeft=-1*(a.options.zoomWindowWidth/2-a.nzWidth/2+
2*a.options.borderSize)):e.noop();break;case 7:a.windowOffsetTop=a.nzHeight;a.windowOffsetLeft=0;break;case 8:a.windowOffsetTop=a.nzHeight;a.windowOffsetLeft=-1*(a.zoomWindow.width()+2*a.options.borderSize);break;case 9:a.windowOffsetTop=a.nzHeight-a.zoomWindow.height()-2*a.options.borderSize;a.windowOffsetLeft=-1*(a.zoomWindow.width()+2*a.options.borderSize);break;case 10:a.options.zoomWindowHeight>a.nzHeight?(a.windowOffsetTop=-1*(a.options.zoomWindowHeight/2-a.nzHeight/2),a.windowOffsetLeft=-1*
(a.zoomWindow.width()+2*a.options.borderSize)):e.noop();break;case 11:a.windowOffsetTop=a.options.zoomWindowOffsetY;a.windowOffsetLeft=-1*(a.zoomWindow.width()+2*a.options.borderSize);break;case 12:a.windowOffsetTop=-1*(a.zoomWindow.height()+2*a.options.borderSize);a.windowOffsetLeft=-1*(a.zoomWindow.width()+2*a.options.borderSize);break;case 13:a.windowOffsetTop=-1*(a.zoomWindow.height()+2*a.options.borderSize);a.windowOffsetLeft=0;break;case 14:a.options.zoomWindowHeight>a.nzHeight?(a.windowOffsetTop=
-1*(a.zoomWindow.height()+2*a.options.borderSize),a.windowOffsetLeft=-1*(a.options.zoomWindowWidth/2-a.nzWidth/2+2*a.options.borderSize)):e.noop();break;case 15:a.windowOffsetTop=-1*(a.zoomWindow.height()+2*a.options.borderSize);a.windowOffsetLeft=a.nzWidth-a.zoomWindow.width()-2*a.options.borderSize;break;case 16:a.windowOffsetTop=-1*(a.zoomWindow.height()+2*a.options.borderSize);a.windowOffsetLeft=a.nzWidth;break;default:a.windowOffsetTop=a.options.zoomWindowOffsetY,a.windowOffsetLeft=a.nzWidth}a.isWindowSet=
!0;a.windowOffsetTop+=a.options.zoomWindowOffsetY;a.windowOffsetLeft+=a.options.zoomWindowOffsetX;a.zoomWindow.css({top:a.windowOffsetTop,left:a.windowOffsetLeft});"inner"===a.options.zoomType&&a.zoomWindow.css({top:0,left:0});a.windowLeftPos=-1*((c.pageX-a.pageOffsetX-a.nzOffset.left)*a.widthRatio-a.zoomWindow.width()/2);a.windowTopPos=-1*((c.pageY-a.pageOffsetY-a.nzOffset.top)*a.heightRatio-a.zoomWindow.height()/2);a.Etoppos&&(a.windowTopPos=0);a.Eloppos&&(a.windowLeftPos=0);a.Eboppos&&(a.windowTopPos=
-1*(a.largeHeight/a.currentZoomLevel-a.zoomWindow.height()));a.Eroppos&&(a.windowLeftPos=-1*(a.largeWidth/a.currentZoomLevel-a.zoomWindow.width()));a.fullheight&&(a.windowTopPos=0);a.fullwidth&&(a.windowLeftPos=0);if("window"===a.options.zoomType||"inner"===a.options.zoomType)if(1===a.zoomLock&&(1>=a.widthRatio&&(a.windowLeftPos=0),1>=a.heightRatio&&(a.windowTopPos=0)),"window"===a.options.zoomType&&(a.largeHeight<a.options.zoomWindowHeight&&(a.windowTopPos=0),a.largeWidth<a.options.zoomWindowWidth&&
(a.windowLeftPos=0)),a.options.easing){a.xp||(a.xp=0);a.yp||(a.yp=0);var b=16,d=parseInt(a.options.easing);"number"===typeof d&&isFinite(d)&&Math.floor(d)===d&&(b=d);a.loop||(a.loop=setInterval(function(){a.xp+=(a.windowLeftPos-a.xp)/a.options.easingAmount;a.yp+=(a.windowTopPos-a.yp)/a.options.easingAmount;a.scrollingLock?(clearInterval(a.loop),a.xp=a.windowLeftPos,a.yp=a.windowTopPos,a.xp=-1*((c.pageX-a.pageOffsetX-a.nzOffset.left)*a.widthRatio-a.zoomWindow.width()/2),a.yp=-1*((c.pageY-a.pageOffsetY-
a.nzOffset.top)*a.heightRatio-a.zoomWindow.height()/2),a.changeBgSize&&(a.nzHeight>a.nzWidth?("lens"===a.options.zoomType&&a.zoomLens.css({backgroundSize:""+a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"}),a.zoomWindow.css({backgroundSize:""+a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"})):("lens"!==a.options.zoomType&&a.zoomLens.css({backgroundSize:""+a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvalueheight+"px"}),a.zoomWindow.css({backgroundSize:""+
a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"})),a.changeBgSize=!1),a.zoomWindow.css({backgroundPosition:""+a.windowLeftPos+"px "+a.windowTopPos+"px"}),a.scrollingLock=!1,a.loop=!1):1>Math.round(Math.abs(a.xp-a.windowLeftPos)+Math.abs(a.yp-a.windowTopPos))?(clearInterval(a.loop),a.zoomWindow.css({backgroundPosition:""+a.windowLeftPos+"px "+a.windowTopPos+"px"}),a.loop=!1):(a.changeBgSize&&(a.nzHeight>a.nzWidth?("lens"===a.options.zoomType&&a.zoomLens.css({backgroundSize:""+
a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"}),a.zoomWindow.css({backgroundSize:""+a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"})):("lens"!==a.options.zoomType&&a.zoomLens.css({backgroundSize:""+a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"}),a.zoomWindow.css({backgroundSize:""+a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"})),a.changeBgSize=!1),a.zoomWindow.css({backgroundPosition:""+a.xp+"px "+a.yp+
"px"}))},b))}else a.changeBgSize&&(a.nzHeight>a.nzWidth?("lens"===a.options.zoomType&&a.zoomLens.css({backgroundSize:""+a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"}),a.zoomWindow.css({backgroundSize:""+a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"})):("lens"===a.options.zoomType&&a.zoomLens.css({backgroundSize:""+a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"}),a.largeHeight/a.newvaluewidth<a.options.zoomWindowHeight?a.zoomWindow.css({backgroundSize:""+
a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"}):a.zoomWindow.css({backgroundSize:""+a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"})),a.changeBgSize=!1),a.zoomWindow.css({backgroundPosition:""+a.windowLeftPos+"px "+a.windowTopPos+"px"})},setTintPosition:function(c){var a=this.zoomLens.width(),b=this.zoomLens.height();this.updateOffset(this);this.tintpos=-1*(c.pageX-this.pageOffsetX-this.nzOffset.left-a/2);this.tintposy=-1*(c.pageY-this.pageOffsetY-
this.nzOffset.top-b/2);this.Etoppos&&(this.tintposy=0);this.Eloppos&&(this.tintpos=0);this.Eboppos&&(this.tintposy=-1*(this.nzHeight-b-2*this.options.lensBorderSize));this.Eroppos&&(this.tintpos=-1*(this.nzWidth-a-2*this.options.lensBorderSize));this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos,top:this.tintposy}))},swaptheimage:function(c,a){var b=this,d=new Image;if(b.options.loadingIcon&&!b.spinner){var f={background:'url("'+
b.options.loadingIcon+'") no-repeat',height:b.nzHeight,width:b.nzWidth,zIndex:2E3,position:"absolute",backgroundPosition:"center center"};"inner"===b.options.zoomType&&f.setProperty("top",0);b.spinner=e('<div class="ezp-spinner"></div>').css(f);b.$elem.after(b.spinner)}else b.spinner&&b.spinner.show();b.options.onImageSwap(b.$elem);d.onload=function(){b.largeWidth=d.width;b.largeHeight=d.height;b.zoomImage=a;b.zoomWindow.css({backgroundSize:""+b.largeWidth+"px "+b.largeHeight+"px"});b.swapAction(c,
a)};b.setImageSource(d,a)},swapAction:function(c,a){var b=this,d=b.$elem.width(),f=b.$elem.height(),g=new Image;g.onload=function(){b.nzHeight=g.height;b.nzWidth=g.width;b.options.onImageSwapComplete(b.$elem);b.doneCallback()};b.setImageSource(g,c);b.currentZoomLevel=b.options.zoomLevel;b.options.maxZoomLevel=!1;"lens"===b.options.zoomType&&b.zoomLens.css("background-image",'url("'+a+'")');"window"===b.options.zoomType&&b.zoomWindow.css("background-image",'url("'+a+'")');"inner"===b.options.zoomType&&
b.zoomWindow.css("background-image",'url("'+a+'")');b.currentImage=a;if(b.options.imageCrossfade){var h=b.$elem,k=h.clone();b.$elem.attr("src",c);b.$elem.after(k);k.stop(!0).fadeOut(b.options.imageCrossfade,function(){e(this).remove()});b.$elem.width("auto").removeAttr("width");b.$elem.height("auto").removeAttr("height");h.fadeIn(b.options.imageCrossfade);b.options.tint&&"inner"!==b.options.zoomType&&(h=b.zoomTintImage,k=h.clone(),b.zoomTintImage.attr("src",a),b.zoomTintImage.after(k),k.stop(!0).fadeOut(b.options.imageCrossfade,
function(){e(this).remove()}),h.fadeIn(b.options.imageCrossfade),b.zoomTint.css({height:f,width:d}));b.zoomContainer.css({height:f,width:d});"inner"!==b.options.zoomType||b.options.constrainType||(b.zoomWrap.parent().css({height:f,width:d}),b.zoomWindow.css({height:f,width:d}))}else b.$elem.attr("src",c),b.options.tint&&(b.zoomTintImage.attr("src",a),b.zoomTintImage.attr("height",f),b.zoomTintImage.css("height",f),b.zoomTint.css("height",f)),b.zoomContainer.css({height:f,width:d});b.options.imageCrossfade&&
b.zoomWrap.css({height:f,width:d});b.options.constrainType&&("height"===b.options.constrainType&&(h={height:b.options.constrainSize,width:"auto"},b.zoomContainer.css(h),b.options.imageCrossfade?(b.zoomWrap.css(h),b.constwidth=b.zoomWrap.width()):(b.$elem.css(h),b.constwidth=d),d={height:b.options.constrainSize,width:b.constwidth},"inner"===b.options.zoomType&&(b.zoomWrap.parent().css(d),b.zoomWindow.css(d)),b.options.tint&&(b.tintContainer.css(d),b.zoomTint.css(d),b.zoomTintImage.css(d))),"width"===
b.options.constrainType&&(d={height:"auto",width:b.options.constrainSize},b.zoomContainer.css(d),b.options.imageCrossfade?(b.zoomWrap.css(d),b.constheight=b.zoomWrap.height()):(b.$elem.css(d),b.constheight=f),f={height:b.constheight,width:b.options.constrainSize},"inner"===b.options.zoomType&&(b.zoomWrap.parent().css(f),b.zoomWindow.css(f)),b.options.tint&&(b.tintContainer.css(f),b.zoomTint.css(f),b.zoomTintImage.css(f))))},doneCallback:function(){this.options.loadingIcon&&this.spinner&&this.spinner.length&&
this.spinner.hide();this.updateOffset(this);this.nzWidth=this.$elem.width();this.nzHeight=this.$elem.height();this.currentZoomLevel=this.options.zoomLevel;this.widthRatio=this.largeWidth/this.nzWidth;this.heightRatio=this.largeHeight/this.nzHeight;"window"===this.options.zoomType&&(this.lensHeight=this.nzHeight<this.options.zoomWindowHeight/this.heightRatio?this.nzHeight:this.options.zoomWindowHeight/this.heightRatio,this.lensWidth=this.nzWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/
this.widthRatio,this.zoomLens&&this.zoomLens.css({width:this.lensWidth,height:this.lensHeight}))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var c=this;c.gallerylist=[];c.options.gallery?e("#"+c.options.gallery+" a").each(function(){var a="";e(this).data(c.options.attrImageZoomSrc)?a=e(this).data(c.options.attrImageZoomSrc):e(this).data("image")&&(a=e(this).data("image"));a===c.zoomImage?c.gallerylist.unshift({href:""+a,title:e(this).find("img").attr("title")}):c.gallerylist.push({href:""+
a,title:e(this).find("img").attr("title")})}):c.gallerylist.push({href:""+c.zoomImage,title:e(this).find("img").attr("title")});return c.gallerylist},changeZoomLevel:function(c){this.scrollingLock=!0;var a=this.newvalue=parseFloat(c).toFixed(2),b=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight);c=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth);"inner"!==this.options.zoomType&&(b<=a?(this.heightRatio=this.largeHeight/b/this.nzHeight,this.newvalueheight=
b,this.fullheight=!0):(this.heightRatio=this.largeHeight/a/this.nzHeight,this.newvalueheight=a,this.fullheight=!1),c<=a?(this.widthRatio=this.largeWidth/c/this.nzWidth,this.newvaluewidth=c,this.fullwidth=!0):(this.widthRatio=this.largeWidth/a/this.nzWidth,this.newvaluewidth=a,this.fullwidth=!1),"lens"===this.options.zoomType&&(b<=a?(this.fullwidth=!0,this.newvaluewidth=b):(this.widthRatio=this.largeWidth/a/this.nzWidth,this.newvaluewidth=a,this.fullwidth=!1)));"inner"===this.options.zoomType&&(b=
parseFloat(this.largeHeight/this.nzHeight).toFixed(2),c=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),a>b&&(a=b),a>c&&(a=c),b<=a?(this.heightRatio=this.largeHeight/a/this.nzHeight,this.newvalueheight=a>b?b:a,this.fullheight=!0):(this.heightRatio=this.largeHeight/a/this.nzHeight,this.newvalueheight=a>b?b:a,this.fullheight=!1),c<=a?(this.widthRatio=this.largeWidth/a/this.nzWidth,this.newvaluewidth=a>c?c:a,this.fullwidth=!0):(this.widthRatio=this.largeWidth/a/this.nzWidth,this.newvaluewidth=a,
this.fullwidth=!1));a=!1;"inner"===this.options.zoomType&&(this.nzWidth>=this.nzHeight&&(this.newvaluewidth<=c?a=!0:(a=!1,this.fullwidth=this.fullheight=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=c?a=!0:(a=!1,this.fullwidth=this.fullheight=!0)));"inner"!==this.options.zoomType&&(a=!0);a&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!==this.options.zoomType&&"inner"!==this.options.zoomType&&
(this.changeBgSize=!0,this.zoomLens.css({height:this.options.zoomWindowHeight/this.heightRatio})),"lens"===this.options.zoomType||"inner"===this.options.zoomType)&&(this.changeBgSize=!0),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!==this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!==this.options.zoomType&&"inner"!==this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:this.options.zoomWindowWidth/
this.widthRatio})),"lens"===this.options.zoomType||"inner"===this.options.zoomType)&&(this.changeBgSize=!0),"inner"===this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight?this.currentZoomLevel=this.newvaluewidth:this.nzHeight>=this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth)));this.setPosition(this.currentLoc)},closeAll:function(){this.zoomWindow&&this.zoomWindow.hide();this.zoomLens&&this.zoomLens.hide();this.zoomTint&&this.zoomTint.hide()},updateOffset:function(c){if("body"!==
c.options.zoomContainerAppendTo){c.nzOffset=c.$elem.offset();var a=e(c.options.zoomContainerAppendTo).offset();c.nzOffset.top=c.$elem.offset().top-a.top;c.nzOffset.left=c.$elem.offset().left-a.left;c.pageOffsetX=a.left;c.pageOffsetY=a.top}else c.nzOffset=c.$elem.offset(),c.pageOffsetX=0,c.pageOffsetY=0},changeState:function(c){"enable"===c&&(this.options.zoomEnabled=!0);"disable"===c&&(this.options.zoomEnabled=!1)},responsiveConfig:function(c){return c.respond&&0<c.respond.length?e.extend({},c,this.configByScreenWidth(c)):
c},configByScreenWidth:function(c){var a=e(g).width(),b=e.grep(c.respond,function(b){b=b.range.split("-");return a>=b[0]&&a<=b[1]});return 0<b.length?b[0]:c}};e.fn.ezPlus=function(c){return this.each(function(){var a=Object.create(l);a.init(c,this);e.data(this,"ezPlus",a)})};e.fn.ezPlus.options={container:"ZoomContainer",attrImageZoomSrc:"zoom-image",borderColour:"#888",borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:"inherit",debug:!1,easing:!1,easingAmount:12,enabled:!0,
gallery:!1,galleryActiveClass:"zoomGalleryActive",gallerySelector:!1,galleryItem:"a",galleryEvent:"click",imageCrossfade:!1,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:!1,lensFadeOut:!1,lensOpacity:.4,lensShape:"square",lensSize:200,lenszoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:1.01,onComplete:e.noop,onDestroy:e.noop,onImageClick:e.noop,onImageSwap:e.noop,onImageSwapComplete:e.noop,onShow:e.noop,onHide:e.noop,onZoomedImageLoaded:e.noop,
preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:.1,showLens:!0,tint:!1,tintColour:"#333",tintOpacity:.4,touchEnabled:!0,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomId:-1,zoomLevel:1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,zoomType:"window",zoomWindowAlwaysShow:!1,zoomWindowBgColour:"#fff",zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:!0,zIndex:999}})(window.jQuery,
window,document);